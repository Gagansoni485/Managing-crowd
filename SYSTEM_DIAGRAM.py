"""
System Architecture Diagram
"""

print("""
================================================================================
              CROWD HEATMAP SYSTEM - ARCHITECTURE
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         COMPUTER VISION LAYER                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  heatmap_monitor.py                                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Video Input: people.mp4                                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ YOLO Detection (yolov8n.pt)                                      â”‚   â”‚
â”‚  â”‚  â”œâ”€ Object Tracking (ByteTrack)                                      â”‚   â”‚
â”‚  â”‚  â”œâ”€ Heatmap Generation (20x20 grid)                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Zone Assignment (entrance/queue/darshan/exit)                    â”‚   â”‚
â”‚  â”‚  â””â”€ Alert Level Calculation                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ HTTP POST every 5s
                                    â”‚ /api/crowd/heatmap
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            BACKEND LAYER                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Node.js + Express + Socket.IO                                       â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  crowdController.js                                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ receiveHeatmapData() â”€â”€â”€â”€â”                                       â”‚   â”‚
â”‚  â”‚  â”œâ”€ checkAlertThreshold() â”€â”€â”€â”¼â”€â†’ Create EmergencyRequest            â”‚   â”‚
â”‚  â”‚  â”œâ”€ getCurrentHeatmap()      â”‚                                       â”‚   â”‚
â”‚  â”‚  â”œâ”€ getHeatmapHistory()      â”‚                                       â”‚   â”‚
â”‚  â”‚  â””â”€ getAnalytics()           â”‚                                       â”‚   â”‚
â”‚  â”‚                              â”‚                                       â”‚   â”‚
â”‚  â”‚  crowdSocket.js              â”‚                                       â”‚   â”‚
â”‚  â”‚  â”œâ”€ crowd:heatmap-update â—„â”€â”€â”€â”¤                                       â”‚   â”‚
â”‚  â”‚  â””â”€ crowd:rush-alert     â—„â”€â”€â”€â”˜                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ Socket.IO Real-time
                                    â”‚ Events
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FRONTEND LAYER                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  React + Socket.IO Client                                            â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  CrowdHeatmap.jsx                                                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ Canvas Rendering                                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ Zone Visualization (color-coded)                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ Real-time Statistics                                             â”‚   â”‚
â”‚  â”‚  â”œâ”€ Alert Display                                                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ Browser Notifications                                            â”‚   â”‚
â”‚  â”‚  â””â”€ Historical Charts                                                â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  Route: /crowd-heatmap                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ Displays to
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ADMIN USER                                     â”‚
â”‚  ğŸ“Š Real-time Heatmap                                                       â”‚
â”‚  ğŸš¨ Rush Alerts                                                             â”‚
â”‚  ğŸ“ˆ Analytics Dashboard                                                     â”‚
â”‚  ğŸ‘¥ People Count per Zone                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATABASE LAYER                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  MongoDB                                                             â”‚   â”‚
â”‚  â”‚  â”œâ”€ crowdheatmaps (TTL: 7 days)                                      â”‚   â”‚
â”‚  â”‚  â””â”€ emergencyrequests (rush alerts)                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
                            DATA FLOW SEQUENCE
================================================================================

1. ğŸ¥ CV detects 45 people in entrance zone
2. ğŸ“Š Calculates density: 45/50 = 90% (CRITICAL)
3. ğŸ“¤ Sends to backend via HTTP POST
4. ğŸ” Backend checks: 90% > 90% threshold â†’ ALERT!
5. ğŸ’¾ Saves to MongoDB: CrowdHeatmap + EmergencyRequest
6. ğŸ“¡ Emits Socket.IO: 'crowd:rush-alert'
7. ğŸ–¥ï¸  Frontend receives alert
8. ğŸ”” Shows browser notification: "ğŸš¨ Rush in Entrance!"
9. ğŸ¨ Canvas updates: Red zone, pulsing effect
10. ğŸ‘¨â€ğŸ’¼ Admin sees alert and dispatches volunteers

================================================================================
                           ZONE CONFIGURATION
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ENTRANCE      â”‚   DARSHAN       â”‚
â”‚   Cap: 50       â”‚   Cap: 80       â”‚
â”‚   ğŸŸ¢ Normal     â”‚   ğŸŸ¢ Normal     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚           QUEUE AREA              â”‚
â”‚           Cap: 70                 â”‚
â”‚           ğŸŸ¡ Warning              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚              EXIT                 â”‚
â”‚              Cap: 40              â”‚
â”‚              ğŸŸ¢ Normal            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Alert Colors:
ğŸŸ¢ Green  = 0-60% (Normal)
ğŸŸ¡ Yellow = 60-75% (Warning)
ğŸŸ  Orange = 75-90% (High)
ğŸ”´ Red    = 90%+ (Critical) â† Triggers Alert!

================================================================================
                          FILE STRUCTURE
================================================================================

shankara hackathon/
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ models/
â”‚       â”‚   â””â”€â”€ CrowdHeatmap.js âœ…
â”‚       â”œâ”€â”€ controllers/
â”‚       â”‚   â””â”€â”€ crowdController.js âœ…
â”‚       â”œâ”€â”€ routes/
â”‚       â”‚   â””â”€â”€ crowdRoutes.js âœ…
â”‚       â”œâ”€â”€ socket/
â”‚       â”‚   â””â”€â”€ crowdSocket.js âœ…
â”‚       â””â”€â”€ app.js (modified) âœ…
â”‚
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ CrowdHeatmap.jsx âœ…
â”‚       â”‚   â””â”€â”€ AdminDashboard.jsx (modified) âœ…
â”‚       â”œâ”€â”€ styles/
â”‚       â”‚   â””â”€â”€ CrowdHeatmap.css âœ…
â”‚       â””â”€â”€ App.jsx (modified) âœ…
â”‚
â”œâ”€â”€ computerVision/
â”‚   â””â”€â”€ objectdetection/
â”‚       â”œâ”€â”€ heatmap_monitor.py âœ…
â”‚       â”œâ”€â”€ test_backend_connection.py âœ…
â”‚       â”œâ”€â”€ requirements.txt âœ…
â”‚       â”œâ”€â”€ people.mp4 (existing)
â”‚       â””â”€â”€ yolov8n.pt (existing)
â”‚
â”œâ”€â”€ START_HEATMAP_SYSTEM.bat âœ…
â”œâ”€â”€ HEATMAP_SETUP.md âœ…
â””â”€â”€ IMPLEMENTATION_SUMMARY.txt âœ…

================================================================================
""")
